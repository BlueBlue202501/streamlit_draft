# 字元儀表板設計架構說明

本文件詳細說明現階段字元儀表板的設計架構，以 Streamlit 最新版本為基準，整合各項設計元素、標題、項目名稱和圖表顯示。

## 1. 整體佈局 (Overall Layout)

儀表板採用現代數據應用常見的**雙欄式佈局**，結構清晰且易於操作。

-   **左側邊欄 (Sidebar)**: 作為全局控制面板，固定在畫面左側。使用者可在此進行資料來源的切換，此處的選擇會影響右側主內容區顯示的所有數據。
-   **右側主內容區 (Main Content Area)**: 這是儀表板的核心，採用垂直滾動的「資訊流」設計。所有數據分析區塊以**模組化卡片**的形式由上至下排列，讓使用者可以專注於單一資訊區塊，同時也能輕鬆滾動檢視全局。

---

## 2. 介面區塊與內容詳細說明

以下由上至下，詳細拆解主內容區的每一個構成元素。

### 2.1 標題與日期設定

-   **區塊標題**: `政府AI應用實驗站 測試(lab32)`
    -   **說明**: 儀表板主標題，明確指出當前數據所屬的單位。
-   **區塊標題**: `日期範圍設定`
    -   **說明**: 一個可展開/收合的容器，用於篩選數據的時間區間。
    -   **項目名稱**:
        -   `開始日期`: 可供使用者選擇的起始日期。
        -   `結束日期`: 可供使用者選擇的結束日期。
        -   `機關代碼`, `機關名稱`, `主機名稱`: 靜態顯示的環境資訊。

### 2.2 核心指標區 (KPI Metrics)

此區塊使用**指標卡 (Metric Card)** 呈現最關鍵的宏觀數據，並輔以顏色和圖示提供快速的狀態判斷。

-   **項目名稱**:
    -   `剩餘字元數`: 當前剩餘的可用字元。
    -   `字元上限`: 總額度或配額。
    -   `總字元數`: 在選定時間範圍內已使用的字元總量。
    -   `使用比例`: 已使用量佔總額度的百分比。
    -   `文件已使用頁數`: 已處理的文件總頁數。
    -   `使用者數`: 活躍使用者總數。
-   **狀態提示框**:
    -   **項目名稱**: `使用狀況良好` / `注意`
    -   **說明**: 根據剩餘額度，以綠色或黃色等不同顏色的提示框，提供一句話的結論，例如「✅ 字元使用量在安全範圍內」。
-   **重要通知框**:
    -   **項目名稱**: `重要通知`
    -   **說明**: 使用黃色警告框，提供補充額度的聯絡方式等重要資訊。

### 2.3 排行榜區 (Rankings)

此區塊用於識別關鍵的使用者與應用。

-   **區塊標題**: `使用者排行榜`
    -   **圖表顯示**: **橫向長條圖 (Horizontal Bar Chart)**。清晰地由上至下顯示字元使用量最高的前幾名使用者及其用量。
-   **區塊標題**: `AI Bots 使用量排行榜`
    -   **圖表顯示**: **縱向長條圖 (Vertical Bar Chart)**。顯示不同 AI 功能 (Bot) 的使用量，可用於分析最受歡迎的應用。

### 2.4 時間趨勢區 (Time Series Trend)

-   **區塊標題**: `字元數使用量變化趨勢`
    -   **圖表顯示**: **折線圖 (Line Chart)**。X軸為日期，Y軸為字元數，展示在選定時間範圍內，每日的字元使用量波動情況，有助於發現使用高峰期。

### 2.5 使用量統計摘要 (Usage Statistics Summary)

此區塊是 Streamlit 版本新增的深度分析模組，提供數據洞察與預測。

-   **區塊標題**: `使用量統計摘要`
    -   **說明**: 以指標卡矩陣呈現多個二次計算的統計數據。
    -   **項目名稱**:
        -   `總使用字元數`
        -   `高峰日 (日期)`: 單日最高使用量的日期與數值。
        -   `去除高峰後平均`:更能反映日常穩定用量的平均值。
        -   `按平均用量可用天數`: 根據當前平均用量預測剩餘額度還能使用多久。
        -   `最低單日字元數`
        -   `平均每日字元數`
-   **區塊標題**: `分析結論`
    -   **說明**: 一個資訊框，包含一段**自動生成的文字結論**，用自然語言總結目前的使用趨勢和關鍵發現，是此儀表板的亮點功能。
